import{s as Z,I as C,D as ee,bb as le,as as te,a1 as ae,bc as ne,g as y,q as S,ao as E,bd as se,i as ue,z as oe,d as h,be as F,V as H,a_ as ie}from"./index.8f9d36c8.js";function G(n){const u=Math.abs(n);return Math.sign(n)*(u/((1/.501-2)*(1-u)+1))}function q(n){let{selectedElement:v,containerSize:u,contentSize:f,isRtl:p,currentScrollOffset:a,isHorizontal:o}=n;const e=o?v.clientWidth:v.clientHeight,s=o?v.offsetLeft:v.offsetTop,i=p?f-s-e:s;p&&(a=-a);const r=u+a,g=e+i,b=e*.4;return i<=a?a=Math.max(i-b,0):r<=g&&(a=Math.min(a-(r-g-b),f-u)),p?-a:a}function re(n){let{selectedElement:v,containerSize:u,contentSize:f,isRtl:p,isHorizontal:a}=n;const o=a?v.clientWidth:v.clientHeight,e=a?v.offsetLeft:v.offsetTop;if(p){const s=f-e-o/2-u/2;return-Math.min(f-u,Math.max(0,s))}else{const s=e+o/2-u/2;return Math.min(f-u,Math.max(0,s))}}const ce=Symbol.for("vuetify:v-slide-group"),fe=Z({name:"VSlideGroup",props:{centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:ce},nextIcon:{type:C,default:"$next"},prevIcon:{type:C,default:"$prev"},showArrows:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["always","desktop","mobile"].includes(n)},...ee(),...le({selectedClass:"v-slide-group-item--active"})},emits:{"update:modelValue":n=>!0},setup(n,v){let{slots:u}=v;const{isRtl:f}=te(),{mobile:p}=ae(),a=ne(n,n.symbol),o=y(!1),e=y(0),s=y(0),i=y(0),r=S(()=>n.direction==="horizontal"),{resizeRef:g,contentRect:b}=E(),{resizeRef:c,contentRect:T}=E(),I=S(()=>a.selected.value.length?a.items.value.findIndex(l=>l.id===a.selected.value[0]):-1),L=S(()=>a.selected.value.length?a.items.value.findIndex(l=>l.id===a.selected.value[a.selected.value.length-1]):-1);if(se){let l=-1;ue(()=>[a.selected.value,b.value,T.value,r.value],()=>{cancelAnimationFrame(l),l=requestAnimationFrame(()=>{if(b.value&&T.value){const t=r.value?"width":"height";s.value=b.value[t],i.value=T.value[t],o.value=s.value+1<i.value}if(I.value>=0&&c.value){const t=c.value.children[L.value];I.value===0||!o.value?e.value=0:n.centerActive?e.value=re({selectedElement:t,containerSize:s.value,contentSize:i.value,isRtl:f.value,isHorizontal:r.value}):o.value&&(e.value=q({selectedElement:t,containerSize:s.value,contentSize:i.value,isRtl:f.value,currentScrollOffset:e.value,isHorizontal:r.value}))}})})}const A=y(!1);let M=0,P=0;function B(l){const t=r.value?"clientX":"clientY";P=e.value,M=l.touches[0][t],A.value=!0}function D(l){if(!o.value)return;const t=r.value?"clientX":"clientY";e.value=P+M-l.touches[0][t]}function N(l){const t=i.value-s.value;f.value?e.value>0||!o.value?e.value=0:e.value<=-t&&(e.value=-t):e.value<0||!o.value?e.value=0:e.value>=t&&(e.value=t),A.value=!1}function W(){g.value&&(g.value.scrollLeft=0)}const O=y(!1);function X(l){if(O.value=!0,!(!o.value||!c.value)){for(const t of l.composedPath())for(const d of c.value.children)if(d===t){e.value=q({selectedElement:d,containerSize:s.value,contentSize:i.value,isRtl:f.value,currentScrollOffset:e.value,isHorizontal:r.value});return}}}function Y(l){O.value=!1}function K(l){var t;!O.value&&!(l.relatedTarget&&(t=c.value)!=null&&t.contains(l.relatedTarget))&&m()}function U(l){!c.value||(l.key===(r.value?"ArrowRight":"ArrowDown")?m("next"):l.key===(r.value?"ArrowLeft":"ArrowUp")?m("prev"):l.key==="Home"?m("first"):l.key==="End"&&m("last"))}function m(l){if(!!c.value)if(l){if(l==="next"){var d;const x=(d=c.value.querySelector(":focus"))==null?void 0:d.nextElementSibling;x?x.focus():m("first")}else if(l==="prev"){var w;const x=(w=c.value.querySelector(":focus"))==null?void 0:w.previousElementSibling;x?x.focus():m("last")}else if(l==="first"){var R;(R=c.value.firstElementChild)==null||R.focus()}else if(l==="last"){var V;(V=c.value.lastElementChild)==null||V.focus()}}else{var t;c.value.querySelector("[tabindex]"),(t=[...c.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(Q=>!Q.hasAttribute("disabled"))[0])==null||t.focus()}}function _(l){const t=f.value?-1:1,d=t*e.value+(l==="prev"?-1:1)*s.value;e.value=t*ie(d,0,i.value-s.value)}const $=S(()=>{const l=e.value<=0?G(-e.value):e.value>i.value-s.value?-(i.value-s.value)+G(i.value-s.value-e.value):-e.value;return{transform:`translate${r.value?"X":"Y"}(${l}px)`,transition:A.value?"none":"",willChange:A.value?"transform":""}}),k=S(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),z=S(()=>{switch(n.showArrows){case"always":return!0;case"desktop":return!p.value;case!0:return o.value||Math.abs(e.value)>0;case"mobile":return p.value||o.value||Math.abs(e.value)>0;default:return!p.value&&(o.value||Math.abs(e.value)>0)}}),j=S(()=>z.value&&e.value>0),J=S(()=>z.value?i.value>Math.abs(e.value)+s.value:!1);return oe(()=>{var l,t,d,w,R;return h(n.tag,{class:["v-slide-group",{"v-slide-group--vertical":!r.value,"v-slide-group--has-affixes":z.value,"v-slide-group--is-overflowing":o.value}],tabindex:O.value||a.selected.value.length?-1:0,onFocus:K},{default:()=>[z.value&&h("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!j.value}],onClick:()=>_("prev")},[(l=(t=u.prev)==null?void 0:t.call(u,k.value))!=null?l:h(F,null,{default:()=>[h(H,{icon:n.prevIcon},null)]})]),h("div",{key:"container",ref:g,class:"v-slide-group__container",onScroll:W},[h("div",{ref:c,class:"v-slide-group__content",style:$.value,onTouchstartPassive:B,onTouchmovePassive:D,onTouchendPassive:N,onFocusin:X,onFocusout:Y,onKeydown:U},[(d=u.default)==null?void 0:d.call(u,k.value)])]),z.value&&h("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!J.value}],onClick:()=>_("next")},[(w=(R=u.next)==null?void 0:R.call(u,k.value))!=null?w:h(F,null,{default:()=>[h(H,{icon:n.nextIcon},null)]})])]})}),{selected:a.selected,scrollTo:_,scrollOffset:e,focus:m}}});export{ce as V,fe as a};
